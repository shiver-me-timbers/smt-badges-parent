<svg id="smt-svg" xmlns="http://www.w3.org/2000/svg" width="101" height="20">
    <linearGradient id="smt-badge-gradient" x2="0" y2="100%">
        <stop offset="0" stop-color="#bbb" stop-opacity=".1" />
        <stop offset="1" stop-opacity=".1" />
    </linearGradient>
    <mask id="smt-badge-subject-rectangle-mask">
        <rect id="smt-badge-subject-rectangle" width="101" height="20" rx="3" fill="#fff" />
    </mask>
    <g mask="url(#smt-badge-subject-rectangle-mask)">
        <path id="smt-badge-subject-path" fill="#555" d="M0 0h44v20H0z" />
        <path id="smt-badge-status-path" fill="#97CA00" d="M44 0h57v20H44z" />
        <path id="smt-badge-gradient-path" fill="url(#smt-badge-gradient)" d="M0 0h101v20H0z" />
    </g>
    <g id="smt-badge-text-container" fill="#fff" text-anchor="start"
       font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11">
        <text id="smt-badge-subject" x="5" y="14">badge</text>
        <text id="smt-badge-status" x="49" y="14">example</text>
    </g>
    <script type="text/javascript">function getWidth(id) {
        return document.getElementById(id).getBBox().width;
        }

        function pathPoints(x, y, h, v, H) {
        return 'M' + x + ' ' + y + 'h' + h + 'v' + v + 'H' + H + 'z';
        }

        function setAttribute(id, name, value) {
        document.getElementById(id).setAttribute(name, value);
        }

        function setWidth(id, width) {
        setAttribute(id, 'width', width);
        }

        function setPath(id, x, y, h, v, H) {
        setAttribute(id, 'd', pathPoints(x, y, h, v, H));
        }

        function setX(id, x) {
        setAttribute(id, 'x', x);
        }

        function updateBadgeWidths(badgeHeight, textPadding) {
        var containerPadding = (textPadding * 2);

        var subjectTextWidth = getWidth('smt-badge-subject');
        var statusTextWidth = getWidth('smt-badge-status');

        var subjectWidth = subjectTextWidth + containerPadding;
        var statusWidth = statusTextWidth + containerPadding;
        var badgeWidth = subjectWidth + statusWidth;

        setWidth('smt-svg', badgeWidth);
        setWidth('smt-badge-subject-rectangle', badgeWidth);
        setPath('smt-badge-subject-path', 0, 0, subjectWidth, badgeHeight, 0);
        setPath('smt-badge-status-path', subjectWidth, 0, statusWidth, badgeHeight, subjectWidth);
        setPath('smt-badge-gradient-path', 0, 0, badgeWidth, badgeHeight, 0);
        setX('smt-badge-subject', textPadding);
        setX('smt-badge-status', subjectWidth + textPadding);
        }

        if (document.getElementById('smt-svg')) {
        updateBadgeWidths(20, 5);
        }
    </script>
</svg>